<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- font awesome -->
    <link rel="stylesheet" href="fontawesome-free-6.0.0-web\fontawesome-free-6.0.0-web\css\all.min.css" />
    <title>Details product</title>
    <link rel="stylesheet" href="css/nav.css">
    <!--  slider  -->
    <!--Owl  carousel ---------------   ------- ------------------------------>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"
        integrity="sha512-tS3S5qG0BlhnQROyJXvNjeEM4UpMXHrQfTGmbQ1gKmelCxlSEBUaxhRBj/EFTzpbP4RVSrpEikbmdJobCvhE3g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- box icons----------------------------------------------- -->
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <!-- font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hubballi&display=swap" rel="stylesheet">
    <!-- icon gg -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <!-- style content -->
    <link rel="stylesheet" href="css/detail-product.css">
    <link rel="stylesheet" href="css/footer.css">
</head>

<body>
    <nav>
        <ul class="nav nav-tabs nav-justified">
            <span class="hamburger"><i class="fa-solid fa-bars"></i></span>
            <div class="content-nav">
                <li class="contain-logo">
                    <div class="logo">
                        <img src="img/logo.webp" alt="">
                    </div>
                </li>
                <li class="contain-body hover-contain-body">
                    <a href="Allmodels.html">Tất cả các loại xe</a>
                    <div class="container-models">
                        <div class="content-models">
                            <a href="" class="">Dòng A</a>
                        </div>
                        <div class="content-models">
                            <a href="" class="">Dòng B</a>
                        </div>
                    </div>
                </li>
                <li class="contain-body"><a href="buyonline.html">Mua ngay</a></li>
                <li class="contain-body"><a href="">Tư vấn</a></li>
                <li class="contain-body"><a href="">Chăm sóc khách hàng</a></li>
                <li class="contain-body"><a href="">MDB</a></li>
            </div>
            <div class="content-info">
                <li class="icon-func">
                    <div class="search">
                        <input type="text" class="input-search"
                            placeholder="Tìm kiếm...">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </div>
                </li>
                <!-- <li class="icon-func"><i class="fa-solid fa-comment"></i></li> -->
                <li class="icon-func"><i class="fa-solid fa-cart-shopping"></i></li>
                <li class="icon-func"><i class="fa-solid fa-heart"></i></li>
                <li class="icon-func hover-notify">
                    <i class="fa-solid fa-bell"></i>
                    <div class="info-notify">
                        <!-- item  -->
                        <div class="info-notify-item">
                            <div class="info-notify-img">
                                <img src="img/employee/mostbeautiful.webp"
                                    alt="">
                            </div>
                            <div class="info-notify-description">
                                <span>Bạn cần gì?</span>
                            </div>
                        </div>
                        <!-- item  -->
                        <div class="info-notify-item">
                            <div class="info-notify-img">
                                <img src="img/iris (1).webp" alt="">
                            </div>
                            <div class="info-notify-description">
                                <span>Bạn cần gì?</span>
                            </div>
                        </div>
                        <!-- item  -->
                        <div class="info-notify-item">
                            <div class="info-notify-img">
                                <img src="img/iris (1).webp" alt="">
                            </div>
                            <div class="info-notify-description">
                                <span>Bạn cần gì?</span>
                            </div>
                        </div>
                        <!-- item  -->
                        <div class="info-notify-item">
                            <div class="info-notify-img">
                                <img src="img/employee/mostbeautiful.webp"
                                    alt="">
                            </div>
                            <div class="info-notify-description">
                                <span>Bạn cần gì?</span>
                            </div>
                        </div>
                        <!-- item  -->
                        <div class="info-notify-item">
                            <div class="info-notify-img">
                                <img src="img/employee/mostbeautiful.webp"
                                    alt="">
                            </div>
                            <div class="info-notify-description">
                                <span>Bạn cần gì?</span>
                            </div>
                        </div>
                        <!-- item  -->
                        <div class="info-notify-item">
                            <div class="info-notify-img">
                                <img src="img/employee/mostbeautiful.webp"
                                    alt="">
                            </div>
                            <div class="info-notify-description">
                                <span>Bạn cần gì?</span>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="icon-func hover-info-user">
                    <div class="info-user">
                        <img src="img/iris (1).webp" alt="">
                    </div>
                    <div class="info-user-content">
                        <div class="info-user-content-detail">
                            <span class="material-symbols-outlined
                                icon-detail">person</span>
                            <span>Thông tin</span>
                        </div>
                        <div class="info-user-content-detail" onclick="location.href='manage-products.html';">
                            <span class="material-symbols-outlined
                                icon-detail">
                                exit_to_app
                            </span>
                            <span>Quản lý</span>
                        </div>
                        <div class="info-user-content-detail">
                            <span class="material-symbols-outlined
                                icon-detail">
                                settings
                            </span>
                            <span>Cài đặt</span>
                        </div>
                        <div class="info-user-content-detail click-log-in">
                            <span class="material-symbols-outlined
                                icon-detail">
                                logout
                            </span>
                            <span>Đăng xuất</span>
                        </div>
                        <!-- 
                        <div class="info-user-content-detail">
                            <span class="material-symbols-outlined
                                icon-detail">
                                close
                            </span>
                            <span>Cancel</span>
                        </div> -->
                    </div>
                </li>
            </div>
        </ul>
    </nav>
    <!-- top up and message with server ------------------------>
    <div class="top-up">
        <span class="material-symbols-outlined top-up-icon">
            arrow_upward
        </span>
    </div>
    <!-- end top up -->
    <div id="product-detail" class="container-build">
        
    </div>
    <div class="margin_top style-for-footer">
        <div class="logo-footer">
            <img src="img/logo.webp" alt="">
        </div>
        <div class="container-info">
            <div class="info-contact-title">
                <span>Thông tin liên hệ</span>
            </div>
            <div class="info-contact">
                <div class="icon-link">
                    <i class="fa-brands fa-facebook-f"></i>
                    <span>Facebook</span>
                </div>
                <div class="icon-link">
                    <i class="fa-brands fa-instagram"></i>
                    <span>Instagram</span>
                </div>
                <div class="icon-link">
                    <i class="fa-brands fa-twitter"></i>
                    <span>Twitter</span>
                </div>
                <div class="icon-link">
                    <i class="fa-brands fa-youtube"></i>
                    <span>Youtube</span>
                </div>
            </div>
        </div>
    </div>

    <script src="node_modules/jquery/dist/jquery.js"></script>

    <!-- owl carousel------------------------------------------------------->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"
        integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- boxicons -->
    <script src="https://unpkg.com/boxicons@2.1.2/dist/boxicons.js"></script>
    <!-- <script src="js/slider.js"></script> -->
    <script src="js/clicked.js"></script>
    <script src="js/scroll.js"></script>
    <script>
        var product = JSON.parse(localStorage.getItem("viewProduct"));
        console.log(product);
        var productDetail = "";
        productDetail += `
        <div class="details-product">
            <div class="content-item-info">
                <div class="content-item-info-title">
                    <div class="icon-img-car">
                        <img src="${product.image}" alt="">
                    </div>
                    <span>${product.name}</span>
                </div>
                <div class="content-item-info-price">
                    <span>Giá:</span>
                    <span>${product.price}đ</span>
                </div>
            </div>
        </div>
        <div class="container-build-img">
            <!-- item -->
            <div class="content-img">
                <img src="${product.image}" alt="">
            </div>
            <!-- item -->
            <div class="details-description">
                <div class="content-description">
                    <span>Công suất:</span>
                    <span>${product.power} kW</span>
                </div>
                <div class="content-description">
                    <span>Loại nhiên liệu:</span>
                    <span>${product.fuel}</span>
                </div>
                <div class="content-description">
                    <span>Bộ phận:</span>
                    <span>${product.transmission}</span>
                </div>
                <div class="content-description">
                    <span>Mô tả:</span>
                    <span>${product.description}</span>
                </div>
                <div class="content-description">
                    <span><label for="quantity">Quantity:</label></span>
                    <input type="number" value="1" min="1" max="100" id="quantity" style="padding:10px 15px; border: 1px solid #ccc; border-radius:5px; font-size:18px">
                </div>
                <div class="content-description button">
                    <span onclick="addItem(${product.id})">Thêm vào giỏ hàng</span>
                    <span>Yêu thích</span>
                </div>
            </div>
        </div>
        `;
        $("#product-detail").html(productDetail);

        var storageKey = "cart";
        var cart = [];

        var cartItem = {
            "id": "1",
            "idProduct": "1",
            "name": "Product 1",
            "price": "100000.00",
            "image": "img/iris (1).webp",
            "power": "1.0",
            "fuel": "Petrol",
            "description": "Xe đẹp lắm",
            "transmission": "Automatic",
            "quantity": "1"
        };

        function addItem(id) {
            var cart = JSON.parse(localStorage.getItem(storageKey));
            if (cart == null) {
                cart = [];
                cartItem.id = "1";
            }
            else {
                cartItem.id = cart.length + 1;
            }
            cartItem.idProduct = product.id;
            cartItem.name = product.name;
            cartItem.price = product.price;
            cartItem.image = product.image;
            cartItem.power = product.power;
            cartItem.fuel = product.fuel;
            cartItem.description = product.description;
            cartItem.transmission = product.transmission;
            cartItem.quantity = $("#quantity").val();
            cart.push(cartItem);
            localStorage.setItem(storageKey, JSON.stringify(cart));
            console.log(localStorage.getItem(storageKey));
            cartHeader();
        }

        function cartHeader() {
            var cart = localStorage.getItem(storageKey);
            if (cart) {
                cart = JSON.parse(cart);
                var cartTotal = 0;
                for (var i = 0; i < cart.length; i++) {
                    cartTotal += cart[i].quantity * cart[i].price;
                }
                $("#cart-count").text("Cart(" + cart.length + ")");
                $("#cart-total").text("/ $" + cartTotal);
            }
            $("#cart-mini").show();
            $("#cart-mini").css("display", "flex");
            $("#cart-mini").css("opacity", "1");
            $("#cart-mini").css("transition", "all 0.5s ease-in-out");
        }
    </script>
</body>

</html>